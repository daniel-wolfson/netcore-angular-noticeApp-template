<div class="notice-board-container">
  <!-- Loading State -->
  @if(loading) {
  <div class="loading-section">
    <div class="spinner"></div>
    <p>loading...</p>
  </div>
  }

  <!-- Error State -->
  @if(error) {
  <div class="error-section">
    <div class="alert alert-danger">
      <i class="fas fa-exclamation-triangle"></i>
      {{ error }}
      <button class="btn btn-outline-danger btn-sm" (click)="loadNotices()">load again</button>
    </div>
  </div>
  }

  <!-- Notices Grid -->
  @if (notices && notices.length > 0) {
  <div class="notices-grid" [style.grid-template-columns]="gridTemplateColumns">
    @for(notice of notices | searchFilter : filterBy : searchTerm; track notice.id) {
    <notice-item
      [notice]="notice"
      (deleteNoticeEvent)="deleteNotice($event)"
      (editNoticeEvent)="openEditForm($event)"
    >
    </notice-item>
    }
  </div>
  }

  <!-- Empty State -->
  @if(!loading && !error && (notices | searchFilter : filterBy : searchTerm).length === 0) {
  <div class="empty-state">
    <div class="empty-content">
      <i class="fas fa-clipboard-list empty-icon"></i>
      <h3>Notices not found</h3>
      @if(searchTerm) {
      <p>Try changing the search or filter conditions</p>
      } @if(!searchTerm) {
      <p>Be the first to add a notice!</p>
      }
    </div>
  </div>
  } @if(showNoticeForm) {
  <div class="modal-overlay" (click)="onCloseForm()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <notice-form
        [notice]="editingNotice"
        [currentUser]="currentUser"
        (formSubmit)="onFormSubmit()"
        (formCancel)="onCloseForm()"
      ></notice-form>
    </div>
  </div>
  }
</div>
